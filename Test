-- รับโฟลเดอร์ของการ์ด
local CardsFolder = game:GetService("Workspace").Section2.Objective.Cards

-- สร้างและกำหนดค่า ScreenGui
local Screen = Instance.new("ScreenGui")
Screen.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui") -- เปลี่ยนพาเรนต์ไปยัง PlayerGui

-- สร้างและกำหนดค่า Frame
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 650, 0, 100) -- ขนาดของ Frame เพื่อรองรับการ์ด 6 ใบ
Frame.Position = UDim2.new(0, 10, 0, 10) -- ตำแหน่งมุมซ้ายบนของหน้าจอ
Frame.Parent = Screen

-- เพิ่ม UIListLayout เข้าไปใน Frame
local uiListLayout = Instance.new("UIListLayout")
uiListLayout.FillDirection = Enum.FillDirection.Horizontal
uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder
uiListLayout.Padding = UDim.new(0, 0) -- ไม่มีระยะห่างระหว่างการ์ด
uiListLayout.Parent = Frame

-- แสดงการ์ดทั้งหมดใน CardsFolder
local cardCount = 0
for _, card in pairs(CardsFolder:GetChildren()) do
    if card:IsA("Model") then
        for _, desc in pairs(card:GetDescendants()) do
            if desc:IsA("MeshPart") then
                local imageLabel = Instance.new("ImageLabel")
                imageLabel.Parent = Frame
                imageLabel.Size = UDim2.new(0, 100, 0, 75) -- ขนาดของการ์ดที่ผอมลง
                imageLabel.Image = desc.TextureID

                -- ตั้งค่ากลางภาพ
                imageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
                imageLabel.Position = UDim2.new(0.5, 0, 0.5, 0)

                -- ตรวจสอบการ์ดสำหรับ TextLabel
                for _, child in pairs(card:GetDescendants()) do
                    if child:IsA("TextLabel") then
                        local textLabel = Instance.new("TextLabel")
                        textLabel.Parent = imageLabel -- วาง TextLabel ภายใน ImageLabel
                        textLabel.Size = UDim2.new(1, 0, 1, 0) -- ขนาดเต็มพื้นที่ของ ImageLabel
                        textLabel.BackgroundTransparency = 1 -- ลบพื้นหลัง
                        textLabel.Text = child.Text
                        textLabel.TextScaled = true -- ข้อความขยายตามขนาด
                        textLabel.TextColor3 = Color3.new(1, 1, 1) -- เปลี่ยนสีข้อความเป็นสีขาว
                        textLabel.TextStrokeTransparency = 0.5 -- เพิ่มเส้นขอบให้ข้อความเห็นชัดขึ้น
                        textLabel.TextAlign = Enum.TextXAlignment.Center
                        textLabel.TextYAlignment = Enum.TextYAlignment.Center

                        break -- หยุดการค้นหาเมื่อเจอ TextLabel
                    end
                end

                cardCount = cardCount + 1
                if cardCount >= 6 then
                    return
                end
            end
        end
    end
end
